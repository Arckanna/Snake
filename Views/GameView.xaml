<UserControl x:Class="Snake.Views.GameView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="600"
        d:DesignWidth="700">
    <Grid>
        <Border BorderBrush="{StaticResource AccentColor}"
                BorderThickness="3"
                CornerRadius="8"
                Background="{StaticResource SurfaceColor}">
            <Border.Effect>
                <DropShadowEffect Color="#40000000"
                                  Direction="270"
                                  ShadowDepth="5"
                                  BlurRadius="12"
                                  Opacity="0.25"/>
            </Border.Effect>
            <Grid HorizontalAlignment="Stretch"
                  VerticalAlignment="Stretch">
                <Canvas Name="GameArea"
                        ClipToBounds="True"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch"
                        Focusable="False"/>

                <!-- Overlay Pause : Pause, bouton Reprendre -->
                <Border Background="#CC000000"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Stretch">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Visibility"
                                    Value="Collapsed"/>
                            <Setter Property="Opacity"
                                    Value="0"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsPaused}"
                                             Value="True">
                                    <Setter Property="Visibility"
                                            Value="Visible"/>
                                    <DataTrigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                                                 From="0"
                                                                 To="1"
                                                                 Duration="0:0:0.3"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </DataTrigger.EnterActions>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <StackPanel VerticalAlignment="Center"
                                HorizontalAlignment="Center">
                        <Border Background="{StaticResource SurfaceColor}"
                                CornerRadius="20"
                                Padding="40,30"
                                HorizontalAlignment="Center">
                            <Border.Effect>
                                <DropShadowEffect Color="#40000000"
                                                  Direction="270"
                                                  ShadowDepth="8"
                                                  BlurRadius="15"
                                                  Opacity="0.4"/>
                            </Border.Effect>
                            <StackPanel>
                                <TextBlock Text="⏸️ PAUSE"
                                           FontSize="42"
                                           FontWeight="Bold"
                                           Foreground="{StaticResource PrimaryColor}"
                                           HorizontalAlignment="Center"
                                           Margin="0,0,0,30"/>
                                <Button Content="▶️ Reprendre"
                                        Command="{Binding ReprendreCommand}"
                                        Width="180"
                                        Height="45"
                                        FontSize="16"
                                        HorizontalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>
    </Grid>
</UserControl>
